{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"STAG projekty","text":"<p>Tato dokumentace vzn\u00edk\u00e1 v r\u00e1mci p\u0159edm\u011btu KMA/PS1 \u2014 PS4.</p> <p>C\u00edlem je vytvo\u0159it n\u00e1vod pro studenty, kte\u0159\u00ed cht\u011bj\u00ed pracovat s daty poskytovan\u00fdmi webov\u00fdmi slu\u017ebami STAGu a vyu\u017e\u00edvat je ve vytv\u00e1\u0159en\u00ed webov\u00fdch aplikac\u00ed.</p>"},{"location":"#technologie","title":"Technologie","text":"<p>Dokumentace je prim\u00e1rn\u011b zam\u011b\u0159ena na jazyk Python, ale v n\u011bkter\u00fdch \u010d\u00e1stech se vyskytuj\u00ed i uk\u00e1zky k\u00f3du v jazyce R.</p> <p>Pro v\u00fdvoj aplikac\u00ed je pou\u017e\u00edv\u00e1na knihovna Streamlit.</p> <p>Zpraco\u00e1n\u00ed dat je prov\u00e1d\u011bno pomoc\u00ed knihovny Pandas.</p>"},{"location":"guide/","title":"\u00davod","text":""},{"location":"guide/login/","title":"P\u0159ihla\u0161ov\u00e1n\u00ed p\u0159es STAG","text":"<ul> <li>Dokumentace</li> </ul> <pre><code>if \"stagUserTicket\" not in st.session_state:\n    ticket = st.experimental_get_query_params().get(\"stagUserTicket\")\n    st.session_state[\"stagUserTicket\"] = ticket\n\nif not st.session_state[\"stagUserTicket\"] or st.session_state[\"stagUserTicket\"][0] == \"anonymous\":\n    idnos = None\n    login_url = os.getenv(\"LOGIN_URL\")\n    st.header(f\"P\u0159ihla\u0161te se pomoc\u00ed [STAGu]({login_url})\")\nelse:\n    # zbytek aplikace\n    ...\n</code></pre>"},{"location":"guide/ws/","title":"Webov\u00e9 slu\u017eby STAG","text":"<p>Tato \u010d\u00e1st se v\u011bnuje tomu, jak lze data ze STAGu na\u010d\u00edst.</p> <ul> <li>Odkaz na WS</li> <li>Dokumentace</li> </ul>"},{"location":"guide/ws/#instalace-balicku","title":"Instalace bal\u00ed\u010dk\u016f","text":"<p>Sta\u017een\u00ed n\u00e1stroj\u016f pro pos\u00edl\u00e1n\u00ed http request\u016f a p\u0159\u00edpadn\u011b zpracov\u00e1n\u00ed dat.</p> pipPoetryR <p><pre><code>pip install requests pandas\n</code></pre> Pandas slou\u017e\u00ed jako n\u00e1stroj pro pr\u00e1ci s daty. Umo\u017e\u0148uje na\u010d\u00edtat data z r\u016fzn\u00fdch zdroj\u016f, jako jsou nap\u0159\u00edklad CSV nebo JSON. D\u00e1le umo\u017e\u0148uje manipulaci s daty, jako je filtrov\u00e1n\u00ed, agregace, nebo spojov\u00e1n\u00ed.</p> <ul> <li>Dokumentace</li> </ul> <p>Requests je knihovna pro pos\u00edl\u00e1n\u00ed http request\u016f.</p> <ul> <li>Dokumentace</li> </ul> <p><pre><code>poetry add requests pandas\n</code></pre> Pandas slou\u017e\u00ed jako n\u00e1stroj pro pr\u00e1ci s daty. Umo\u017e\u0148uje na\u010d\u00edtat data z r\u016fzn\u00fdch zdroj\u016f, jako jsou nap\u0159\u00edklad CSV nebo JSON. D\u00e1le umo\u017e\u0148uje manipulaci s daty, jako je filtrov\u00e1n\u00ed, agregace, nebo spojov\u00e1n\u00ed.</p> <ul> <li>Dokumentace</li> </ul> <p>Requests je knihovna pro pos\u00edl\u00e1n\u00ed http request\u016f.</p> <ul> <li>Dokumentace</li> </ul> <p><pre><code>install.packages(c(\"httr\", \"readr\"))\n</code></pre> Jazyk R nepot\u0159ebuje \u017e\u00e1dn\u00fd dal\u0161\u00ed bal\u00ed\u010dek pro pr\u00e1ci s daty.</p> <p>Knihovna <code>httr</code> slou\u017e\u00ed k pos\u00edl\u00e1n\u00ed http request\u016f.</p> <ul> <li>Dokumentace</li> </ul> <p>Readr slou\u017e\u00ed k na\u010d\u00edt\u00e1n\u00ed dat z r\u016fzn\u00fdch zdroj\u016f, jako jsou nap\u0159\u00edklad CSV nebo JSON.</p> <ul> <li>Dokumentace</li> </ul> <p>V\u00edce o http requestech zde.</p>"},{"location":"guide/ws/#request-na-webove-sluzby","title":"Request na webov\u00e9 slu\u017eby","text":""},{"location":"guide/ws/#request-bez-prihlaseni","title":"Request bez p\u0159ihl\u00e1\u0161en\u00ed","text":"<p>Template pro request na webov\u00e9 slu\u017eby.</p> PythonR <pre><code>import requests\nimport pandas as pd\nfrom io import StringIO\n\nurl = \"https://ws.ujep.cz/ws/services/rest2/test/endpoint\"\nparams = {\n    \"outputFormat\": \"CSV\",\n    \"outputFormatEncoding\": \"utf-8\",\n}\n\ndata = requests.get(\n    url,\n    params=params,\n)\n\ndf = pd.read_csv(StringIO(data.text), sep=\";\")\n</code></pre> <pre><code>library(httr)\nlibrary(readr)\n\nurl &lt;- \"https://ws.ujep.cz/ws/services/rest2/test/endpoint\"\nparams &lt;- list(\n    outputFormat = \"CSV\",\n    outputFormatEncoding = \"utf-8\"\n)\n\ndata &lt;- GET(\n    url,\n    query = params\n)\n\ndf &lt;- read_csv2(rawToChar(data$content))\n</code></pre> <p>K odesl\u00e1n\u00ed requestu je pot\u0159eba zn\u00e1t url slu\u017eby a url parametry (tak\u00e9 jako query parametry, d\u00e1le jen parametry), kter\u00e9 slu\u017eba vy\u017eaduje.</p>"},{"location":"guide/ws/#request-predmetygetpredmetinfo","title":"Request <code>/predmety/getPredmetInfo</code>","text":"<p>Na uk\u00e1zku jeden konkr\u00e9tn\u00ed p\u0159\u00edklad. <code>/predmety/getPredmetInfo</code></p> <p>V\u00fd\u0161e uveden\u00fd odkaz otev\u0159e rozhran\u00ed slu\u017eby <code>/predmety/getPredmetInfo</code>. K vypln\u011bn\u00ed je zde n\u011bkolik parametr\u016f. \u010cervenou hv\u011bzdi\u010dkou jsou ozna\u010deny povinn\u00e9 parametry. Bez t\u011bchto parametr\u016f nelze request odeslat (resp. server vr\u00e1t\u00ed status k\u00f3d <code>500 - Internal Server Error</code>).</p> <p>Slu\u017eba s vypln\u011bn\u00fdmi parametry vypad\u00e1 n\u00e1sledovn\u011b:</p> <p></p> <p>Po odesl\u00e1n\u00ed requestu se zobraz\u00ed v\u00fdsledek vol\u00e1n\u00ed webov\u00e9 slu\u017eby. Krom\u011b konkr\u00e9tn\u00edho souboru ke sta\u017een\u00ed n\u00e1s hlavn\u011b zaj\u00edm\u00e1 Adresa. Z t\u00e9 vy\u010dteme url a n\u00e1zvy jednotliv\u00fdch parametr\u016f.</p> <p></p> Url a parametry <p>Parametry a jejch hodnoty se v adrese nach\u00e1zej\u00ed za otazn\u00edkem. V na\u0161em p\u0159\u00edpad\u011b vypad\u00e1 takto:</p> <p><code>?katedra=KMA&amp;zkratka=MA2&amp;rok=2023&amp;lang=cs&amp;outputFormat=CSV&amp;outputFormatEncoding=utf-8</code>.</p> <p>Jednotliv\u00e9 parametry a jejich hodnoty jsou ve form\u00e1tu <code>parametr=hodnota</code>. Mezi jednotliv\u00fdmi parametry je odd\u011blova\u010d <code>&amp;</code>. Na\u0161e parametry v tomto p\u0159\u00edpad\u011b jsou:</p> <p> | Parametr | Hodnota | | :-------- | :------- | | katedra  | KMA     | | zkratka  | MA2     | | rok      | 2023    | | lang     | cs      | | outputFormat | CSV | </p> <p>Po dopln\u011bn\u00ed spr\u00e1vn\u00e9 url a parametr\u016f by request na tuto slu\u017ebu vypadal n\u00e1sledovn\u011b:</p> PythonR <pre><code>import requests\nimport pandas as pd\nfrom io import StringIO\n\nurl = \"https://ws.ujep.cz/ws/services/rest2/predmety/getPredmetInfo\"\n\nparams = {\n    \"katedra\": \"KMA\",\n    \"zkratka\": \"MA2\",\n    \"rok\": \"2023\",\n    \"lang\": \"cs\",\n    \"outputFormat\": \"CSV\",\n    \"outputFormatEncoding\": \"utf-8\"\n}\n\ndata = requests.get(\n    url,\n    params=params,\n)\n\ndf = pd.read_csv(StringIO(data.text), sep=\";\")\n</code></pre> <pre><code>library(httr)\nlibrary(readr)\n\nurl &lt;- \"https://ws.ujep.cz/ws/services/rest2/predmety/getPredmetInfo\"\n\nparams &lt;- list(\n    katedra = \"KMA\",\n    zkratka = \"MA2\",\n    rok = \"2023\",\n    lang = \"cs\",\n    outputFormat = \"CSV\",\n    outputFormatEncoding = \"utf-8\"\n)\n\ndata &lt;- GET(\n    url,\n    query = params\n)\n\ndf &lt;- read_csv2(rawToChar(data$content))\n</code></pre> Encoding <p>Soubory ve form\u00e1tu CSV webov\u00e9 slu\u017eby defaultn\u011b vrac\u00ed v k\u00f3dov\u00e1n\u00ed windows-1250. Pro spr\u00e1vn\u00e9 na\u010dten\u00ed dat je pot\u0159eba p\u0159idat parametr <code>outputFormatEncoding=utf-8</code>. Dokumentace</p>"},{"location":"guide/ws/#request-s-prihlasenim","title":"Request s p\u0159ihl\u00e1\u0161en\u00edm","text":"PythonR <pre><code>import requests\nimport pandas as pd\nfrom io import StringIO\n\nurl = \"https://ws.ujep.cz/ws/services/rest2/kvalifikacniprace/getKvalifikacniPraceAuth\"\n\nticket = \"your_ticket\"\n\nparams = {\n    \"katedra\": \"KI\",\n    \"outputFormat\": \"CSV\",\n    \"outputFormatEncoding\": \"utf-8\"\n}\n\ndata = requests.get(url, params=params, cookies={\"WSCOOKIE\": ticket})\n\ndf = pd.read_csv(StringIO(data.text), sep=\";\")\n</code></pre> <pre><code>library(httr)\nlibrary(readr)\n\nurl &lt;- \"https://ws.ujep.cz/ws/services/rest2/kvalifikacniprace/getKvalifikacniPraceAuth\"\n\nticket &lt;- \"your_ticket\"\n\nparams &lt;- list(\n    \"katedra\" = \"KI\",\n    \"outputFormat\" = \"CSV\",\n    \"outputFormatEncoding\" = \"utf-8\"\n)\n\ndata &lt;- GET(\n    url,\n    query = params,\n    add_headers(\"Cookie\" = paste(\"WSCOOKIE\", ticket, sep = \"=\"))\n)\n\ndf &lt;- read_csv2(rawToChar(data$content))\n</code></pre>"},{"location":"projects/","title":"\u00davod","text":""},{"location":"projects/erasmus/","title":"Erasmus","text":""},{"location":"projects/vykazy/","title":"V\u00fdkazy","text":""}]}